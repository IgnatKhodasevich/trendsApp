'use strict';

var googleTrends = require('./lib/google-trends-api.min.js');

/* ******************* Autocomplete **************************/

// googleTrends.autoComplete({keyword: 'Bitcoin'})
// .then((res) => {
//   console.log('this is res', res);
// })
// .catch((err) => {
//   console.log('got the error', err);
//   console.log('error message', err.message);
//   console.log('request body',  err.requestBody);
// });

/* ******************* Interest over time **************************/

// googleTrends.interestOverTime({keyword: 'Valentines Day'})
// .then((res) => {
//   console.log('this is res', res);
// })
// .catch((err) => {
//   console.log('got the error', err);
//   console.log('error message', err.message);
//   console.log('request body',  err.requestBody);
// });

googleTrends.interestOverTime({
  keyword: 'bitcoin',
  startTime: new Date(Date.now() - (24 * 60 * 60 * 1000)),
  granularTimeResolution: true,
}, function(err, results) {
  if (err) {
    console.log('oh no error!', err);
  }
  else {
    results = JSON.parse(results);
    console.log(results.default.timelineData[0]);

  }
});

/* ****** Interest over time - Set a custom timezone ***************/

// googleTrends.interestOverTime({
//   keyword: 'Valentines Day',
//   timezone: new Date().getTimezoneOffset() / 60,
// }, function(err, results) {
//   if (err) console.log('oh no error!', err);
//   else console.log(results);
// });

/* ****** Interest over time - Comparing multiple keywords *********/
// googleTrends.interestOverTime({keyword: ['Valentines Day', 'Christmas Day']})
// .then((res) => {
//   console.log('this is res', res);
// })
// .catch((err) => {
//   console.log('got the error', err);
// })

/* ******************* Interest by region **************************/

// googleTrends.interestByRegion({
//   keyword: 'Donald Trump',
//   startTime: new Date('2017-02-01'),
//   endTime: new Date('2017-02-06'),
//   resolution: 'CITY',
// })
// .then((res) => {
//
//   res = JSON.parse(res);
//   console.log(res.default.geoMapData[3]);
// })
// .catch((err) => {
//   console.log(err);
// })

// googleTrends.interestByRegion({
//   keyword: 'Donald Trump',
//   startTime: new Date('2017-02-01'),
//   endTime: new Date('2017-02-06'),
//   geo: 'US-CA',
// })
// .then((res) => {
//   console.log(res);
// })
// .catch((err) => {
//   console.log(err);
// })

/* ******************* Related queries **************************/

// googleTrends.relatedQueries({
//   keyword: 'Bitcoin',
//   startTime: new Date('2017-01-01'),
//   endTime: new Date('2018-01-01'),
// })
// .then((res) => {
//   res = JSON.parse(res);
//
//   // console.log(res);
//   var result = res.default.rankedList[1];
//   result = JSON.parse(result);
//   var result1 = JSON.parse(result.rankedKeyword[0]);
//   console.log(result.query[0]);
// })
// .catch((err) => {
//   console.log(err);
// })

/* ******************* Related topics **************************/

// googleTrends.relatedTopics({
//   keyword: 'Chipotle',
//   startTime: new Date('2015-01-01'),
//   endTime: new Date('2017-02-10'),
// })
// .then((res) => {
//   console.log(res);
// })
// .catch((err) => {
//   console.log(err);
// });
